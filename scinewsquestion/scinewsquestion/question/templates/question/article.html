{% extends "base.html" %}
{% load staticfiles %}
 {% block scripts %}
     <script src="{% static "js/article.js" %}" type="text/javascript" ></script>
     <link href="{% static "css/article.css" %}" rel="stylesheet"> 
 {% endblock %}    

 {% block document_container %}
 <div style="min-height:100%;" class="container-fluid" id="background">
     <!--Top margin, can be used as nav bar or so, later. -->
      <div class="row" id="top-margin">
              <div class="col-10" class="col-container"><p style="margin-bottom: 0px">Now: Article <a id="order"></a></p><p id="prevholder" style="display:none">Previous articles (new tab) <button id="art1" onclick="opena1()" class="btn"style="display:none;padding:0px;">Article 1</button><a>  </a><button id="art2" onclick="opena2()" class="btn"style="display:none;padding:0px;">Article 2</button></p></div>
              <div class="col-2" class="col-container"> <p id="username">{{ user.get_username }}</p>  <p id="userpk" style="display:none">{{ user.pk }}</p> </div>
      </div> 
      <div class="row" id="main">
        <div class="col-8" class="col-container">
          <div id="article">
           <div id="head">
             <h1 class="title">{{ article.article_title }}</h1>
             <h1 class="date">Nov. 28th, 2016 <hide id="ano" style="display:none">{{ article.article_no }}</hide></h1>
              <hr>
             </div>
           <div  class="row">
                   <div id="text" style="display:none;" class="col-12" class="col-container">
                       {{article.article_body}}</div>
                   <div class="col-1" class="col-container" style="display:none">
                   </div>
             </div>
             
         </div>
        </div>
        <div class="col-4" class="col-container" id="sidebar-container">
          <div id="floating-div">
             <div id="help" class="sections">
                 <button id="helpbutton" data-toggle="collapse" data-target="#helpmessage" class='btn' style="width:100%;height:30px;background-color:rgba(0, 155, 0, 0.822);color:white;padding:0px"> Click to see help </button>
                 <div id="helpmessage" class="collapse" style="padding:10px">
                     <p>Read the article and raise questions. </p>
                     <p>You can generate a question on a text range of your choice. Select a range of text and then type in your question. You can delete the question by clicking the highlighted text and then delete button. Overlapping text selection is not supported. </p> 
                     <p>Also, you can generate a question using the below text box, withoug specific text selection.</p>
                 </div>
             </div>
             <div class="sections" id="Questions">
                <h6>Questions that you made <small><a id="showless" onclick="ShowLess();" href="#">show less</a></small></h6>
                <div id='lastlyadded' style="display:none"><small style="color:gray">Lastly added:</small></div>
                <div id="questions_generated" class="subsections"></div>  <!-- End of selected_questions-->
            </div>
             <div id="Qgen" class="sections"> 
                 <h6>What do you want/need to know? </h6>
                 <div id="newQ" style="margin-bottom:20px;">
                     <input type="text" id="newQinput" placeholder="Type in your question"style="width:90%;height:30px">
                     <button class="btn" id="newQbutton" style="float:right;width:10%;height:30px;padding-top:3px;padding-bottom:3px;padding-right:5px;padding-left:5px;" onclick="addnewQ()">Add</button>
                 </div>
             </div>
             <div id="surveybutton" class="sections">
                <button class="btn" id="surveyButton" onclick="window.open('https://goo.gl/forms/0YDThu8y4J0dwAlx1'); document.getElementById('submitQbutton').removeAttribute('disabled'); document.getElementById('submitQbutton').style.color='black';" style="width:100%;height:30px;padding-top:3px;padding:3px;" >Survey</button>
                        </div>
             <div id="next" class="sections">
             <button class="btn" id="submitQbutton" onclick="submitQs()" style="width:100%;height:30px;padding-top:3px;padding:3px; color:lightgrey" diabled="true">Next</button>
                     </div></div>
     </div>
  </div> <!-- End of col-container-->
  </div>
 <div class="row" id="footer"> <div class="col-8" >You can read the original article <a href={{article.article_link}} target="_blank">here</a></div>  </div>
 <div id="qannots" style="display:none">0</div><div id="qgens" style="display:none">0</div>
</div>

{% endblock %}
